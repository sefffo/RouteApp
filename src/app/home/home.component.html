<div class="container mx-auto p-4">
  <h1 class="text-3xl font-bold mb-6">Products</h1>
  <div class="flex flex-col md:flex-row md:items-center gap-4 mb-6">
    <input
      #searchBox
      type="text"
      placeholder="Search products..."
      class="border border-gray-300 rounded px-3 py-2 w-full md:w-1/3"
      [value]="searchTerm"
      (input)="onSearchChange(searchBox.value)"
    />
    <select
      #sortBox
      class="border border-gray-300 rounded px-3 py-2 w-full md:w-1/4"
      [value]="sortOption"
      (change)="onSortChange(sortBox.value)"
    >
      <option value="">Sort By</option>
      <option value="price-asc">Price: Low to High</option>
      <option value="price-desc">Price: High to Low</option>
      <option value="name-asc">Name: Aâ€“Z</option>
    </select>
  </div>
  <div *ngIf="loading" class="text-center text-gray-500">Loading...</div>
  <div *ngIf="error" class="text-center text-red-500">{{ error }}</div>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6" *ngIf="!loading && !error">
    <div *ngFor="let product of filteredProducts" (click)="goToProduct(product)" class="cursor-pointer bg-white rounded-lg shadow hover:shadow-lg transition p-4 flex flex-col items-center">
      <img [src]="product.image" [alt]="product.title" class="h-32 object-contain mb-4" />
      <h2 class="text-lg font-semibold mb-2 text-center">{{ product.title }}</h2>
      <p class="text-blue-600 font-bold mb-2">${{ product.price }}</p>
      <p class="text-gray-500 text-sm line-clamp-2 text-center">{{ product.description }}</p>
    </div>
  </div>
</div>
